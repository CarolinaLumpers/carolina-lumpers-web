<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apply to Carolina Lumper Service (CLS)</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="assets/CLS-favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
  <style>
    body { margin:0; background:#000; color:#fff; font-family:Arial,sans-serif; }
    .form-container { padding:40px 20px; text-align:center; }
    h2 { color:#ffcc00; font-family:"Anton",sans-serif; }
    .form-grid {
      width:100%; max-width:800px; margin:auto;
      display:grid; grid-template-columns:220px 1fr; gap:10px 12px; text-align:left;
    }
    .form-grid label { color:#fff; }
    .form-grid input, .form-grid select, .form-grid textarea {
      width:100%; padding:8px; border:1px solid #333; border-radius:4px;
    }
    .actions { grid-column:1 / -1; text-align:center; margin-top:20px; }
    button {
      background-color:#ffcc00; color:#000; border:none; padding:10px 16px;
      border-radius:8px; font-size:16px; cursor:pointer; font-weight:bold;
    }
    button:hover { background-color:#ffd633; }
    .language-toggle { margin-top:10px; }
    .language-toggle button { margin:4px; padding:6px 10px; border:none; background:#111; color:#ffcc00; border-radius:6px; cursor:pointer; }
    .language-toggle button.active, .language-toggle button:hover { background:#ffcc00; color:#000; }
    small.doc-note { color:#ffcc00; display:block; font-size:0.9em; margin-top:4px; }
    @media(max-width:768px){ .form-grid{grid-template-columns:1fr;} }
  </style>
  <script>
    const MESSAGES = {
      en:{sending:"Sending...",success:"‚úÖ Application received. Thank you!",error:"‚ùå Error. Please try again."},
      es:{sending:"Enviando...",success:"‚úÖ Solicitud recibida. ¬°Gracias!",error:"‚ùå Error. Intente de nuevo."},
      pt:{sending:"Enviando...",success:"‚úÖ Candidatura recebida. Obrigado!",error:"‚ùå Erro. Tente novamente."}
    };
    document.addEventListener("DOMContentLoaded",()=>{
      const lang = (navigator.language||"en").startsWith("es")?"es":(navigator.language.startsWith("pt")?"pt":"en");
      switchLanguage(lang);
      document.getElementById("cls-apply").addEventListener("submit",submitForm);
      document.getElementById("work_authorization").addEventListener("change",updateDocNote);
    });
    function switchLanguage(lang){
      document.querySelectorAll("[data-en]").forEach(el=>{
        const t=el.getAttribute(`data-${lang}`)||el.getAttribute("data-en");
        if(t) el.innerHTML=t;
      });
      document.querySelectorAll("[data-ph-en]").forEach(el=>{
        const p=el.getAttribute(`data-ph-${lang}`)||el.getAttribute("data-ph-en");
        if(p) el.placeholder=p;
      });
      document.querySelectorAll(".language-toggle button").forEach(b=>b.classList.toggle("active",b.dataset.lang===lang));
      document.querySelector('input[name="ui_lang"]').value=lang;
      updateDocNote();
    }
    async function submitForm(e){
      e.preventDefault();
      const f=e.target, lang=f.ui_lang.value||"en";
      const status=document.getElementById("status");
      status.textContent=MESSAGES[lang].sending;
      try{
        const res=await fetch(f.action,{method:"POST",body:new URLSearchParams(new FormData(f))});
        status.textContent=MESSAGES[lang][res.ok?"success":"error"];
        if(res.ok)f.reset();
      }catch{status.textContent=MESSAGES[lang].error;}
    }
    function updateDocNote(){
      const select=document.getElementById("work_authorization");
      const val=select.value;
      const note=document.getElementById("docNote");
      const lang=document.querySelector('input[name="ui_lang"]').value||"en";
      const docs={
        Citizen:{en:"Driver‚Äôs license and Social Security card, or U.S. passport.",
                 es:"Licencia de conducir y tarjeta del Seguro Social, o pasaporte estadounidense.",
                 pt:"Carteira de motorista e cart√£o do Seguro Social, ou passaporte dos EUA."},
        "Permanent Resident":{en:"Permanent Resident Card (Green Card).",
                 es:"Tarjeta de Residente Permanente (Green Card).",
                 pt:"Cart√£o de Residente Permanente (Green Card)."},
        "Work Permit (EAD)":{en:"Employment Authorization Document (EAD) card issued by USCIS.",
                 es:"Documento de Autorizaci√≥n de Empleo (EAD) emitido por USCIS.",
                 pt:"Documento de Autoriza√ß√£o de Emprego (EAD) emitido pelo USCIS."},
        "Visa (H-2B)":{en:"Copy of H-2B visa and passport photo page.",
                 es:"Copia de la visa H-2B y p√°gina del pasaporte con foto.",
                 pt:"C√≥pia do visto H-2B e da p√°gina do passaporte com foto."},
        "Visa (Other)":{en:"Copy of visa and work authorization letter.",
                 es:"Copia de la visa y carta de autorizaci√≥n de trabajo.",
                 pt:"C√≥pia do visto e carta de autoriza√ß√£o de trabalho."},
        "Not Authorized":{en:"‚ö†Ô∏è You are not authorized to work in the United States.",
                 es:"‚ö†Ô∏è No est√° autorizado para trabajar en los Estados Unidos.",
                 pt:"‚ö†Ô∏è Voc√™ n√£o est√° autorizado a trabalhar nos Estados Unidos."}
      };
      if(docs[val]) note.textContent="üìÑ "+docs[val][lang]; else note.textContent="";
    }
  </script>
</head>
<body>
  <nav class="navbar">
    <div class="logo-container">
      <a href="index.html"><img src="assets/CLS_Nav_Logo.png" alt="CLS Logo" class="logo"></a>
      <a href="index.html" class="company-name">CAROLINA LUMPER SERVICE</a>
    </div>
    <ul class="nav-links">
      <li><a href="index.html" data-en="Home" data-es="Inicio" data-pt="In√≠cio">Home</a></li>
      <li><a href="about.html" data-en="About Us" data-es="Sobre Nosotros" data-pt="Sobre N√≥s">About Us</a></li>
      <li><a href="services.html" data-en="Services" data-es="Servicios" data-pt="Servi√ßos">Services</a></li>
      <li><a href="contact.html" data-en="Contact" data-es="Contacto" data-pt="Contato">Contact</a></li>
      <li><a href="apply.html" class="active" data-en="Apply" data-es="Solicitar" data-pt="Candidatar">Apply</a></li>
    </ul>
  </nav>

  <section id="apply" class="form-container">
    <h2 data-en="Apply for a Position" data-es="Solicitar un Puesto" data-pt="Candidatar-se a uma Posi√ß√£o">
      Apply for a Position
    </h2>

    <form id="cls-apply" method="POST"
      action="https://script.google.com/macros/s/AKfycbxdD80YrBa6wa271_TtCpwWnQJbQfeRjZVe0iRkAdO36D_t3E44foSn11IdCEq1iJ6OSg/exec">
      <input type="hidden" name="ui_lang" value="en">

      <div class="form-grid">
        <label data-en="First Name" data-es="Nombre" data-pt="Nome" class="required">First Name</label>
        <input name="first_name" required data-ph-en="First name" data-ph-es="Nombre" data-ph-pt="Nome">

        <label data-en="Last Name" data-es="Apellido" data-pt="Sobrenome" class="required">Last Name</label>
        <input name="last_name" required data-ph-en="Last name" data-ph-es="Apellido" data-ph-pt="Sobrenome">

        <label data-en="Date of Birth" data-es="Fecha de nacimiento" data-pt="Data de nascimento" class="required">
          Date of Birth
        </label>
        <input id="dob" name="dob" type="date" required>

        <label data-en="Email" data-es="Correo electr√≥nico" data-pt="E-mail" class="required">Email</label>
        <input name="email" type="email" required data-ph-en="you@example.com" data-ph-es="tu@ejemplo.com" data-ph-pt="voce@exemplo.com">

        <label data-en="Phone" data-es="Tel√©fono" data-pt="Telefone" class="required">Phone</label>
        <input name="phone" type="tel" required data-ph-en="(555) 555-1212" data-ph-es="(555) 555-1212" data-ph-pt="(11) 5555-1212">

        <label data-en="City" data-es="Ciudad" data-pt="Cidade" class="required">City</label>
        <input name="city" required>

        <label data-en="State" data-es="Estado" data-pt="Estado" class="required">State</label>
        <input name="state" required>

        <label for="work_authorization" data-en="Work Authorization" data-es="Autorizaci√≥n de trabajo" data-pt="Autoriza√ß√£o de trabalho" class="required">Work Authorization</label>
        <select id="work_authorization" name="work_authorization" required>
          <option value=""></option>
          <option value="Citizen" data-en="US Citizen" data-es="Ciudadano de EE. UU." data-pt="Cidad√£o dos EUA">US Citizen</option>
          <option value="Permanent Resident" data-en="Permanent Resident" data-es="Residente Permanente" data-pt="Residente Permanente">Permanent Resident</option>
          <option value="Work Permit (EAD)" data-en="Work Permit (EAD)" data-es="Permiso de Trabajo (EAD)" data-pt="Permiss√£o de Trabalho (EAD)">Work Permit (EAD)</option>
          <option value="Visa (H-2B)" data-en="Visa (H-2B)" data-es="Visa (H-2B)" data-pt="Visto (H-2B)">Visa (H-2B)</option>
          <option value="Visa (Other)" data-en="Other Visa" data-es="Otra Visa" data-pt="Outro Visto">Other Visa</option>
          <option value="Not Authorized" data-en="Not Authorized" data-es="No Autorizado" data-pt="N√£o Autorizado">Not Authorized</option>
        </select>
        <small id="docNote" class="doc-note"></small>

        <label data-en="Available Start Date" data-es="Fecha de inicio disponible" data-pt="Data de in√≠cio dispon√≠vel">
          Available Start Date
        </label>
        <input type="date" name="start_date">

        <label data-en="Reliable Transportation" data-es="Transporte confiable" data-pt="Transporte confi√°vel">Reliable Transportation</label>
        <select name="transportation"><option value=""></option><option value="Yes">Yes</option><option value="No">No</option></select>

        <label data-en="Valid Driver‚Äôs License" data-es="Licencia de conducir v√°lida" data-pt="Carteira de motorista v√°lida">Valid Driver‚Äôs License</label>
        <select name="driver_license"><option value=""></option><option value="Yes">Yes</option><option value="No">No</option></select>

        <label data-en="Willing to Work Overtime" data-es="Dispuesto a trabajar horas extra" data-pt="Disposto a fazer horas extras">Willing to Work Overtime</label>
        <select name="overtime_ok"><option value=""></option><option value="Yes">Yes</option><option value="No">No</option></select>

        <label data-en="Willing to Travel" data-es="Dispuesto a viajar" data-pt="Disposto a viajar">Willing to Travel</label>
        <select name="travel_ok"><option value=""></option><option value="Yes">Yes</option><option value="No">No</option></select>

        <label data-en="Equipment Experience" data-es="Experiencia con equipos" data-pt="Experi√™ncia com equipamentos">Equipment Experience</label>
        <input name="equipment_experience" data-ph-en="Forklift, pallet jack" data-ph-es="Montacargas, pat√≠n hidr√°ulico" data-ph-pt="Empilhadeira, paleteira">

        <label data-en="Emergency Contact Name" data-es="Nombre del contacto de emergencia" data-pt="Nome do contato de emerg√™ncia">Emergency Contact Name</label>
        <input name="emergency_contact_name">

        <label data-en="Relationship" data-es="Relaci√≥n" data-pt="Rela√ß√£o">Relationship</label>
        <input name="emergency_contact_relation">

        <label data-en="Emergency Contact Phone" data-es="Tel√©fono del contacto de emergencia" data-pt="Telefone do contato de emerg√™ncia">Emergency Contact Phone</label>
        <input name="emergency_contact_phone" type="tel">

        <label data-en="How did you hear about us?" data-es="¬øC√≥mo se enter√≥ de nosotros?" data-pt="Como soube de n√≥s?">How did you hear about us?</label>
        <select name="referral_source">
          <option value=""></option>
          <option value="Friend">Friend</option>
          <option value="Facebook">Facebook</option>
          <option value="Indeed">Indeed</option>
          <option value="Other">Other</option>
        </select>

        <label data-en="Notes" data-es="Notas" data-pt="Observa√ß√µes">Notes</label>
        <textarea name="notes" rows="3"></textarea>

        <div class="actions">
          <button type="submit" data-en="Submit Application" data-es="Enviar Solicitud" data-pt="Enviar Candidatura">Submit Application</button>
          <p id="status" role="status" aria-live="polite"></p>
        </div>
      </div>
    </form>

    <div class="language-toggle">
      <button data-lang="en" onclick="switchLanguage('en')">English</button>
      <button data-lang="es" onclick="switchLanguage('es')">Espa√±ol</button>
      <button data-lang="pt" onclick="switchLanguage('pt')">Portugu√™s</button>
    </div>
  </section>

  <footer>
    <p>¬© 2024 Carolina Lumper Service. All rights reserved.</p>
  </footer>
</body>
</html>
